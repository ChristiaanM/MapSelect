# Map Select

Author(s): Christiaan Johann MÃ¼ller

Map select is a library that implements different map point selection approaches for selecting map points generated by sparse visual simultaneous localisation and mapping (SLAM) algorithms. This first public release is limited to maps stored by a modified version of ORB-SLAM 2 for testing maps offline (modified: https://github.com/ChristiaanM/ORB_SLAM2_Selection) and contains the approaches described in "Map Point Selection for Visual SLAM".[^fn] Some sample maps are included here [Google Drive Link](https://drive.google.com/drive/folders/19SB5JmQW0m7A04oRNNT6iSZVBC0IXwKQ?usp=drive_link).

## Roadmap 

<ul>
<li>  <s>Initial Documentation</s> </li>
<li> Release Online Selection
<li> Reduce Dependancies (GTSAM / OpenCV/ OSMap) </li>
<li> Add experimental features to the public release </li>
</ul>
    
## License

Distributed under the GPLv3 License. See `LICENSE` for more information.
## Dependancies

CMake (https://cmake.org/)

Eigen3 (https://eigen.tuxfamily.org/i)
 
Protobuf (https://github.com/protocolbuffers/protobuf)

GTSAM (https://github.com/borglab/gtsam)

OpenCV (https://opencv.org/)

## Optional Dependancies
These dependencies are optional and CMAKE should detect their presence and disable relevant features if they are not available.

CHOLMOD is included in SuiteSparse (https://github.com/DrTimothyAldenDavis/SuiteSparse)

GUROBI https://www.gurobi.com/
Used for optimising integer programming models. 

## Build Instructions

Install the previously mentioned Dependancies. 

run the "build.sh" script in the root directory

## Common Problems

Having multiple versions of protocal buffers can cause issues with linking at runtime. If you are on a linux based machine, be sure to check that 
protoc --version is the same version than what is linked as compilation time. 

## Usage 

Option 1 - Download some sample maps or generate your own with the modified ORB-SLAM 2 linked above.

Use the ./mselect binary to apply a map point selection approach to maps offline. This binary allows choosing on of a array of map point selection methods. 
For example:

./mselect -f odometry-fast -a greedy -N 20000 -i ~/kitti00_4300.yaml --v

mselect.cpp for more details. (./mselect provides acces to an array of different map point selection approaches)

Call ./mselect for more details.

Option B  - Link to the library and write your own code to build a MapDataAlias object (See MapDataAlias.h for more details) for your SLAM problem. 
(Documentation for this is WIP)

[^fn]: Christiaan J. M\"{u}ller and Corn\'e van Daalen. "Map Point Selection for Visual SLAM". In: <em> ArXiv e-prints </em>. arXiv:2306.1290.







