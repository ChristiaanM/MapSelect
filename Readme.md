# Map Select

Author(s): Christiaan Johann MÃ¼ller

Map select is a library that implements different map point selection approaches for selecting map points generated by sparse visual simultaneous localisation and mapping (SLAM) algorithms. This first public release is limited to maps stored by a modified version of ORB-SLAM 2 (modified: https://github.com/ChristiaanM/ORB_SLAM2_Selection) and contains the approaches described in "Map Point Selection for Visual SLAM" (Citation Pending). 

## Roadmap 

<ul>
<li> Update Documentation </li>
<li> Reduce Dependancies (GTSAM / OpenCV) </li>
<li> Add experimental features to the public release (coverage functions, unused algorithms, other map types </li>
<li> Make OSMAP support optional </li>
</ul>
    
## License

Distributed under the GPLv3 License. See `LICENSE` for more information.
## Dependancies

Eigen3 (https://eigen.tuxfamily.org/i)
 
Protobuf (https://github.com/protocolbuffers/protobuf)

GTSAM (https://github.com/borglab/gtsam)

OpenCV (https://opencv.org/)

## Optional Dependancies
These dependencies are optional and CMAKE should detect their presence and disable relevant features if they are not available.

CHOLMOD is included in SuiteSparse (https://github.com/DrTimothyAldenDavis/SuiteSparse)

GUROBI https://www.gurobi.com/
Used for optimising integer programming models. 

## Build Instructions

Install the previously mentioned Dependancies. 

run the "build.sh" script in the root directory

## Common Problems

Having multiple versions of protocall buffers can cause issues with linking at runtime. If you are on a linux based machine, be sure to check that 
protoc --version is the same version than what is linked as compilation time. 

## Basic usage

Most included functions and algorithms are available via the included binary (mselect) located in the bin folder.

To use this binary, you must first generate a saved map to run a map point selection approach on (See https://github.com/ChristiaanM/ORB_SLAM2_Selection for more details).

Some example selection queries

Randomly selected 5000 map points from the OSMAP file

> ./mselect -a random -i ./maps/kitti05_2200.yaml -n 5000

Select 15% of the current map points using the localisation utility and the lazy greedy algorithm

> ./mselect -f local -a greedy -i ./maps/kitti05_2200.yaml -R 0.15

Using the stochastic greedy algorithm instead

> .mselect -f local -a stochastic -i ./maps/kitti05_2200.yaml -R 0.15 


